!function(e){function t(e){this.element=e,this._name=i,this.init(),this.ignoredKeys=n}var i="capitalize",n=[8,13,16,17,18,37,39],a=/\./g,o=". ",s=" ",l=/\s+/g,r=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/;t.prototype={init:function(){if(e(this.element).is("input")){var t=this;e(this.element).on("keydown",function(i){-1===e.inArray(i.keyCode,t.ignoredKeys)&&e(this).val(t.capitalize(e(this).val()))}),e(this.element).on("blur",function(){e(this).val(t.capitalize(e(this).val()))})}else e(this.element).text(this.capitalize(e(this.element).text()))},capitalize:function(e){e=e.replace(a,o),e=e.replace(l,s),e=e.replace(/[A-Za-z0-9àÀâÂäÄáÁéÉèÈêÊëËìÌîÎïÏòÒôÔöÖùÙûÛüÜçÇ’ñ]*\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});for(var t=e.split(s),i=["de","di","do","da","dos","das","dello","della","dalla","dal","del","e","em","na","no","nas","nos","van","von","y"],n=0;n<t.length;++n){for(var h=0;h<i.length;h++)t[n].toLowerCase()==i[h].toLowerCase()&&(t[n]=i[h]);t[n].toUpperCase().match(r)&&(t[n]=t[n].toUpperCase())}return t.join(s)}},e.fn[i]=function(){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new t(this))})}}(jQuery,window,document);